<!DOCTYPE html>
<html lang="ko"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
>
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/cheatsheet.css" rel="stylesheet">
    <link href="/css/list-groups.css" rel="stylesheet">
    <script src="/webjars/jquery/3.6.0/jquery.min.js"></script>
</head>
<script>
    $(document).ready(function () {
        //게시글 등록 페이지 이동
        $(".goRequestPage").on("click", function () {
            $(location).attr("href", "/checkList/register");
        });

        //게시글 수정 페이지 이동
        $(".goFirstPage").on("click", function () {
            $(location).attr("href", "/");
        });

        //게시글 삭제 처리
        $(".goModifyPage").on("click", function () {
            $(location).attr("href", "/checkList/request/page");
        });
        //게시글 수정 페이지 이동
        $(".updateBoarder").on("click", function () {
            $(location).attr("href", "/checkList/update?seq=" + $(this).data("value"));
        });

        //게시글 삭제 처리
        $(".deleteBoarder").on("click", function () {
            // 아래는 비동기 처리
            $.post("/checkList/delete", {seq: $(this).data("value")}, function (data) {
                alert(data);
                $(location).attr("href", "/checkList/list");
            });
        });
    });

</script>
<body>
<h1 th:align="center">[Heejin's ToDoList]</h1>
    <div class="list-group" th:each="list : ${todoList}">
        <label class="list-group-item gap-3">
            <input class="form-check-input flex-shrink-0" type="checkbox" value="" style="font-size: 1.375em;">
            <span class="pt-1 form-checked-content">
      <strong th:text="${list.todo}"></strong>
<!--      <small style="padding-right: 50%;" class="d-block text-muted" th:text="시작일:"></small>-->
      <small style="padding-right: 50%;" class="d-block text-muted"  th:text="${list.startdate}">
        <svg class="bi me-1" width="1em" height="1em"><use xlink:href="#calendar-event"/></svg>
      </small>
<!--      <small style="padding-right: 50%;" class="d-block text-muted" th:text="기한:"></small>-->
      <small style="padding-right: 50%;" class="d-block text-muted" th:text="${list.deadline}">
        <svg class="bi me-1" width="1em" height="1em"><use xlink:href="#calendar-event"/></svg>
      </small>
    </span>
    <span style="margin-left: 70%; margin-top: 3.5%;">
        <button class="btn btn-outline-success updateBoarder" type="button" th:data-value="${list.seq}">수정</button>
        <button class="btn btn-outline-success deleteBoarder" type="button" th:data-value="${list.seq}">삭제</button>
    </span>
        </label>
    </div>
<button class="btn btn-success goRequestPage" type="button">ToDoList 쓰러가기</button>
<button class="btn btn-success goModifyPage" type="button">수정페이지로 가기</button>
<button class="btn btn-success goFirstPage" type="button">처음 페이지로 돌아가기</button>
<script src="/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="/js/cheatsheet.js"></script>
</body>
</html>