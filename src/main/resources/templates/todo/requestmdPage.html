<!DOCTYPE html>
<html lang="ko"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
>
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <link href="/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/cheatsheet.css" rel="stylesheet">
  <script src="/webjars/jquery/3.6.0/jquery.min.js"></script>

</head>
<script>
  // function deleteBoarder(seq){
  //   const requestDelete = document.requestDelete;
  //   requestDelete.seq.value = seq;
  //   requestDelete.submit();
  // }
  // function updateBoarder(seq){
  //   location.href = "/checkList/update?seq="+seq;
  // }
  $(document).ready(function () {
    //게시글 등록 페이지 이동
    $(".goRequestPage").on("click", function () {
      $(location).attr("href", "/checkList/register");
    });

    //게시글 수정 페이지 이동
    $(".goFirstPage").on("click", function () {
      $(location).attr("href", "/");
    });

  });
</script>
<body>
<form name="requestDelete" method="post" action="/checkList/delete">
  <input type="hidden" name="seq">
</form>
<h1 th:align="center">[ToDoList]</h1>
<div class="bd-example">
  <table class="table table-hover">
    <tr>
      <th>번호</th>
      <th>할 일</th>
      <th>작성일</th>
      <th>시작일</th>
      <th>기한</th>
      <th>수정</th>
      <th>삭제</th>
    </tr>
    <tr th:each="list : ${todoList}">
      <td class="table-primary"><span th:text="${list.seq}"></span></td>
      <td class="table-secondary"><span th:text="${list.todo}"></span></td>
      <td class="table-danger"><span th:text="${list.create}"></span></td>
      <td class="table-secondary"><span th:text="${list.startdate}"></span></td>
      <td class="table-warning"><span th:text="${list.deadline}"></span></td>
      <td class="table-info"><button class="btn btn-info" type="button" th:onclick="|updateBoarder(${list.seq})|">수정</button>
      <td class="table-danger"><button class="btn btn-outline-danger" type="button" th:onclick="|deleteBoarder(${list.seq})|">삭제</button>
      </td>
    </tr>
  </table>
  <button class="btn btn-success goRequestPage" type="button">ToDoList 쓰러가기</button>
  <button class="btn btn-success goFirstPage" type="button">처음 페이지로 돌아가기</button>
</div>
<br>
<script src="/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="/js/cheatsheet.js"></script>
</body>
</html>